<!-- New Post View -->
<div id="newPostView" class="container">
    <div class="view-header">
        <h1>Create New Post</h1>
    </div>
    <div class="post-editor">
        <div class="editor-main">
            <div class="card">
                <div class="card-body">
                    <form id="newPostForm">
                        <div class="form-group">
                            <label>Media Files (1-20 images)</label>
                            <div id="dropZone" class="drop-zone">
                                <div class="drop-zone-icon">üì§</div>
                                <div class="drop-zone-text">Drag & drop images here</div>
                                <div class="drop-zone-hint">or click to browse (Max 20 images)</div>
                            </div>
                            <input type="file" id="mediaFiles" multiple accept="image/*,video/*" style="display: none;">
                            <div id="mediaPreview" class="media-preview"></div>
                        </div>
                        
                        <!-- ASPECT RATIO FEATURE DISABLED - TODO: Fix aspect ratio switching issues -->
                        <div class="form-group" style="display: none;">
                            <label>Post Aspect Ratio</label>
                            <div class="aspect-ratio-wrapper">
                                <select id="aspectRatio" class="aspect-ratio-select">
                                    <option value="original" selected>Original (no crop)</option>
                                    <option value="1:1">Square (1:1)</option>
                                    <option value="4:5">Portrait (4:5)</option>
                                    <option value="1.91:1">Landscape (1.91:1)</option>
                                    <option value="custom">Custom</option>
                                </select>
                                <input type="text" id="customAspectRatio" placeholder="e.g. 16:9" class="custom-aspect-input" style="display: none;">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label>Caption</label>
                            <textarea id="postCaption" rows="6" placeholder="Write your caption here... #hashtags"></textarea>
                            <div class="character-count">
                                <span id="captionCount">0</span> / 2200 characters
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label>Schedule Date</label>
                            <div class="week-calendar-controls">
                                <button type="button" id="prevWeek" class="week-nav-btn">‚Üê Previous Week</button>
                                <span id="weekMonthDisplay" class="week-month-display"></span>
                                <button type="button" id="nextWeek" class="week-nav-btn">Next Week ‚Üí</button>
                            </div>
                            <div id="weekCalendar" class="week-calendar"></div>
                        </div>
                        
                        <div class="form-group">
                            <label>Posting Time</label>
                            <div class="time-period-selector">
                                <select id="timePeriod" required>
                                    <option value="">Select a time</option>
                                    <option value="morning">Morning - 9:00 AM</option>
                                    <option value="afternoon">Middle of the Day - 12:00 PM</option>
                                    <option value="evening">Afternoon - 5:00 PM</option>
                                    <option value="night">Night - 8:00 PM</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label>Or set Date & Time Manually</label>
                            <input type="datetime-local" id="scheduledTime" placeholder="Select date and time">
                        </div>
                        
                        <div class="form-actions">
                            <button type="button" id="saveDraft" class="btn btn-secondary">Save as Draft</button>
                            <button type="submit" class="btn btn-primary">Schedule Post</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
        
        <!-- Crop Modal -->
        <div id="cropModal" class="crop-modal" style="display: none;">
            <div class="crop-modal-content">
                <div class="crop-modal-header">
                    <h3>Crop Image</h3>
                    <button type="button" class="crop-modal-close" onclick="closeCropModal()">&times;</button>
                </div>
                <div class="crop-modal-body">
                    <div class="crop-container">
                        <img id="cropImage" src="" alt="Crop image" class="crop-image">
                        <div id="cropOverlay" class="crop-overlay">
                            <div id="cropBox" class="crop-box">
                                <div class="crop-handle crop-handle-nw"></div>
                                <div class="crop-handle crop-handle-ne"></div>
                                <div class="crop-handle crop-handle-sw"></div>
                                <div class="crop-handle crop-handle-se"></div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="crop-modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="closeCropModal()">Cancel</button>
                    <button type="button" class="btn btn-primary" onclick="applyCrop()">Apply Crop</button>
                </div>
            </div>
        </div>
        
        <div class="editor-preview">
            <div class="card">
                <div class="card-header">
                    <h3>Preview</h3>
                </div>
                <div class="card-body">
                    <div class="instagram-preview">
                        <div class="ig-header">
                            <div class="ig-avatar"></div>
                            <div class="ig-username">@<span id="previewUsername">username</span></div>
                        </div>
                        <div class="ig-carousel-container">
                            <button type="button" class="carousel-btn carousel-prev" id="carouselPrev" style="display: none;">‚ùÆ</button>
                            <div id="previewImages" class="ig-images"></div>
                            <button type="button" class="carousel-btn carousel-next" id="carouselNext" style="display: none;">‚ùØ</button>
                            <div id="carouselIndicators" class="carousel-indicators"></div>
                        </div>
                        <div class="ig-caption" id="previewCaption">Your caption will appear here...</div>
                        <div class="ig-date" id="previewDate">Scheduled: --</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
